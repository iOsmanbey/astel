<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ASTEL - Crystal Clear Imaging Solutions (v2)</title>
  <!-- Load Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Load Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    /* Custom styles for smooth scrolling and general look */
    body {
      font-family: 'Inter', sans-serif;
      color: #1e293b;
      /* slate-800 */
    }

    .container {
      max-width: 1200px;
    }

    /* Custom icon styling for Lucide integration */
    .lucide {
      display: inline-block;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* Slider Styles */
    .slider-viewport {
      overflow: hidden;
      width: 100%;
      position: relative;
    }

    .slider-track {
      display: flex;
      transition: transform 0.7s ease-in-out;
      width: 100%;
    }

    .slide {
      min-width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .slide img {
      max-height: 800px;
      width: auto;
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 71, 0, 0.04);
    }

    /* Magnifier Styles */
    .magnifier-container {
      position: relative;
      cursor: zoom-in;
    }

    .magnifier-glass {
      position: absolute;
      border-radius: 50%;
      cursor: none;
      width: 250px;
      height: 250px;
      pointer-events: none;
      background-repeat: no-repeat;
      display: block;
      /* Always on */
      z-index: 50;

      /* Water Bubble Aesthetic */
      /* 1. Thin glossy border */
      border: 2px solid rgba(255, 255, 255, 0.4);

      /* 2. Complex shadows for depth and volume */
      box-shadow:
        inset 0 0 20px rgba(255, 255, 255, 0.6),
        /* Inner highlight */
        inset 10px 10px 30px rgba(255, 255, 255, 0.4),
        /* Upper left shine */
        inset -10px -10px 30px rgba(0, 50, 150, 0.1),
        /* Lower right shadow */
        0 15px 35px rgba(0, 0, 0, 0.2),
        /* Drop shadow */
        0 0 15px rgba(59, 130, 246, 0.3);
      /* Outer glow */

      background-color: #000;
      /* Fallback for the image */

      /* Animation for the bubble shape */
      animation: bubble-wobble 8s ease-in-out infinite;

      /* Smooth transitions for opacity if needed */
      transition: opacity 0.5s ease;
    }

    /* Specular Highlight (The 'shine' on the bubble) */
    .magnifier-glass::after {
      content: '';
      position: absolute;
      top: 15%;
      left: 18%;
      width: 20%;
      height: 12%;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.9);
      filter: blur(2px);
      transform: rotate(-45deg);
    }

    /* Secondary smaller highlight */
    .magnifier-glass::before {
      content: '';
      position: absolute;
      bottom: 18%;
      right: 18%;
      width: 8%;
      height: 8%;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
      filter: blur(1px);
    }

    @keyframes bubble-wobble {

      0%,
      100% {
        border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      }

      50% {
        border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
      }
    }

    /* Modal Styles */
    .image-modal,
    .spec-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .image-modal.show,
    .spec-modal.show {
      opacity: 1;
      display: flex;
    }

    .image-modal img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 4px;
      box-shadow: 0 0 30px rgba(0, 100, 255, 0.2);
      transform: scale(0.95);
      transition: transform 0.3s ease;
    }

    .image-modal.show img {
      transform: scale(1);
    }

    .spec-content {
      background: white;
      width: 90%;
      max-width: 800px;
      max-height: 90vh;
      border-radius: 20px;
      overflow-y: auto;
      position: relative;
      padding: 40px;
      transform: translateY(20px);
      transition: transform 0.3s ease;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }

    .spec-modal.show .spec-content {
      transform: translateY(0);
    }

    .close-modal {
      position: absolute;
      top: 20px;
      right: 25px;
      color: #64748b;
      font-size: 30px;
      font-weight: bold;
      cursor: pointer;
      z-index: 1001;
      transition: color 0.3s;
    }

    .image-modal .close-modal {
      color: white;
      right: 40px;
      font-size: 50px;
    }

    .close-modal:hover {
      color: #3b82f6;
    }

    .spec-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .spec-table th,
    .spec-table td {
      padding: 12px 15px;
      text-align: left;
      border-bottom: 1px solid #e2e8f0;
    }

    .spec-table th {
      background-color: #f8fafc;
      color: #64748b;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 0.75rem;
      letter-spacing: 0.05em;
    }

    .spec-table tr:hover {
      background-color: #f1f5f9;
    }

    .spec-category {
      background-color: #3b82f6 !important;
      color: white !important;
      font-weight: bold;
      padding: 8px 15px !important;
    }
  </style>
</head>

<body class="min-h-screen text-slate-800 bg-slate-50">

  <!-- Navigation -->
  <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 bg-transparent py-4">
    <div class="container mx-auto px-6 flex justify-between items-center">
      <div class="flex items-center">
        <!-- Logo Section -->
        <div class="h-10 md:h-12 flex items-center">
          <img src="./ASTEL-LOGO-2953X785.png.png" alt="ASTEL" class="h-full w-auto object-contain" />
        </div>
      </div>

      <!-- Desktop Menu -->
      <div class="hidden md:flex space-x-8 items-center">
        <a href="#home" class="text-slate-600 hover:text-blue-700 font-medium transition">Home</a>
        <a href="#products" class="text-slate-600 hover:text-blue-700 font-medium transition">Products</a>

        <a href="#events" class="text-slate-600 hover:text-blue-700 font-medium transition">Events</a>

        <a href="#quote" class="text-slate-600 hover:text-blue-700 font-medium transition">Contact</a>
        <a href="#quote"
          class="px-5 py-2.5 bg-blue-700 text-white font-semibold rounded-lg hover:bg-blue-800 transition shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">
          Get a Quote
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button id="menu-button" class="md:hidden text-slate-700 focus:outline-none">
        <i data-lucide="menu" id="menu-icon"></i>
      </button>
    </div>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu"
      class="hidden md:hidden absolute top-full left-0 w-full bg-white shadow-lg py-4 px-6 flex-col space-y-4 border-t border-slate-100">
      <a href="#home" class="text-slate-600 font-medium mobile-menu-link">Home</a>
      <a href="#products" class="text-slate-600 font-medium mobile-menu-link">Products</a>

      <a href="#events" class="text-slate-600 font-medium mobile-menu-link">Events</a>
      <a href="#quote" class="text-slate-600 font-medium mobile-menu-link">Contact</a>
      <a href="#quote" class="text-blue-700 font-bold mobile-menu-link">Get a Quote</a>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="relative pt-32 pb-20 md:pt-48 md:pb-32 overflow-hidden">
    <div class="absolute inset-0 z-0 bg-gradient-to-br from-slate-100 to-blue-50 opacity-70"></div>
    <!-- Abstract Shapes -->
    <div class="absolute top-0 right-0 w-1/2 h-full bg-blue-100/50 rounded-l-full transform translate-x-1/3 z-0">
    </div>

    <div class="container mx-auto px-6 relative z-10">
      <div class="flex flex-col md:flex-row items-center gap-12">
        <div class="md:w-1/2 space-y-6">
          <div class="inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold mb-2">
            Advanced Digital Radiography
          </div>
          <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 leading-tight">
            Crystal Clear <span class="text-blue-700">Imaging</span> Solutions
          </h1>
          <p class="text-lg text-slate-600 leading-relaxed max-w-lg">
            Innovating healthcare with state-of-the-art Flat Panel Detectors. Experience precision, speed,
            and reliability with ASTEL.
          </p>
          <div class="flex flex-wrap gap-4 pt-4">
            <a href="#products"
              class="px-8 py-3 bg-blue-700 text-white font-bold rounded-lg hover:bg-blue-800 transition shadow-lg flex items-center gap-2">
              View Products <i data-lucide="arrow-right" class="lucide"></i>
            </a>
            <a href="#contact"
              class="px-8 py-3 bg-white text-slate-700 font-bold rounded-lg border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition">
              Contact Us
            </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <div class="relative w-full max-w-md flex justify-center">
            <div class="absolute inset-0 bg-blue-200 rounded-full filter blur-3xl opacity-30 transform scale-110">
            </div>
            <!-- Hero Image with Magnifier -->
            <div class="magnifier-container" id="magnifier-container">
              <img src="DR_ copy.png" alt="ASTEL Flat Panel Detector" id="main-product-img"
                class="relative z-10 h-auto w-3/4 md:w-full object-contain drop-shadow-2xl" />
              <div class="magnifier-glass" id="magnifier-glass"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats/Trust Bar -->
  <div class="bg-blue-900 text-white py-12">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <div>
          <div class="text-3xl font-bold mb-1">Global</div>
          <div class="text-blue-200 text-sm">Distribution Network</div>
        </div>
        <div>
          <div class="text-3xl font-bold mb-1">International</div>
          <div class="text-blue-200 text-sm">Certified Quality</div>
        </div>
        <div>
          <div class="text-3xl font-bold mb-1">Quality</div>
          <div class="text-blue-200 text-sm">Technical Support</div>
        </div>
        <div>
          <div class="text-3xl font-bold mb-1">Premium</div>
          <div class="text-blue-200 text-sm">FPD Technology</div>
        </div>
      </div>
    </div>
  </div>



  <!-- Products Section -->
  <section id="products" class="py-24 bg-white">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-sm font-bold text-blue-600 uppercase tracking-wider mb-2">Our Technology</h2>
        <h3 class="text-3xl md:text-4xl font-bold text-slate-900">Flat Panel Detectors</h3>
        <div class="w-24 h-1 bg-blue-600 mx-auto mt-6 rounded-full"></div>
      </div>

      <div id="product-list" class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Product cards will be injected here by JavaScript -->
      </div>
    </div>
  </section>

  <!-- C-ARM Section -->
  <section id="c-arm" class="py-24 bg-slate-50 border-t border-slate-100">
    <div class="container mx-auto px-6">
      <div class="text-center mb-16">
        <h2 class="text-sm font-bold text-blue-600 uppercase tracking-wider mb-2">Imaging Systems</h2>
        <h3 class="text-3xl md:text-4xl font-bold text-slate-900">CARION WIDE C-ARM</h3>
        <div class="w-24 h-1 bg-blue-600 mx-auto mt-6 rounded-full"></div>
      </div>

      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="relative rounded-2xl shadow-2xl overflow-hidden group">
          <img src="./Carm.jpg" alt="CARION WIDE C-ARM System"
            class="w-full h-auto object-cover transform transition duration-700 group-hover:scale-105">
          <div class="absolute inset-0 bg-blue-600/10 group-hover:bg-blue-600/0 transition-colors"></div>
        </div>

        <div class="space-y-8">
          <div>
            <h4 class="text-2xl font-bold text-slate-900 mb-4">Powerful Dynamic Imaging</h4>
            <p class="text-lg text-slate-600 leading-relaxed">
              The CARION WIDE offers excellent image clarity and details at a low dose with enhancement functions for
              precise medical procedures. High-performance 17x17 inch Wide Flat Panel Detector (DR 9 Mega pixel).
            </p>
          </div>

          <ul class="grid sm:grid-cols-2 gap-4">
            <li class="flex items-start">
              <i data-lucide="check-circle" class="w-5 h-5 mt-1 mr-3 text-green-500 flex-shrink-0"></i>
              <span class="text-slate-700 font-medium">Wide-View Imaging</span>
            </li>
            <li class="flex items-start">
              <i data-lucide="check-circle" class="w-5 h-5 mt-1 mr-3 text-green-500 flex-shrink-0"></i>
              <span class="text-slate-700 font-medium">Optimized Dose Control</span>
            </li>
            <li class="flex items-start">
              <i data-lucide="check-circle" class="w-5 h-5 mt-1 mr-3 text-green-500 flex-shrink-0"></i>
              <span class="text-slate-700 font-medium">Advanced Mobility</span>
            </li>
            <li class="flex items-start">
              <i data-lucide="check-circle" class="w-5 h-5 mt-1 mr-3 text-green-500 flex-shrink-0"></i>
              <span class="text-slate-700 font-medium">5.3kW High Frequency</span>
            </li>
          </ul>

          <div class="flex flex-wrap gap-4 pt-4">
            <button onclick="openSpecModal('CARION-WIDE')"
              class="px-8 py-3 bg-white text-blue-700 font-bold rounded-lg border-2 border-blue-600 hover:bg-blue-50 transition shadow-sm">
              View Specifications
            </button>
            <a href="#quote" onclick="activeModal='CARION WIDE'; updateQuoteForm();"
              class="px-8 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition shadow-lg flex items-center gap-2">
              Request a Quote <i data-lucide="arrow-right" class="w-5 h-5"></i>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Upcoming Events -->
    <section id="events" class="py-24 bg-slate-100">
      <div class="container mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-end mb-12">
          <div>
            <h2 class="text-sm font-bold text-blue-600 uppercase tracking-wider mb-2">Networking</h2>
            <h3 id="events-title" class="text-3xl md:text-4xl font-bold text-slate-900">Upcoming Events</h3>
          </div>
          <!-- Toggle button for View All Events -->
          <button id="event-toggle-button"
            class="flex items-center text-blue-700 font-semibold hover:text-blue-900 mt-4 md:mt-0 transition">
            View All Past Events <i data-lucide="chevron-right" class="lucide ml-1 w-5 h-5" id="event-toggle-icon"></i>
          </button>
        </div>

        <div id="event-list" class="grid md:grid-cols-3 gap-8">
          <!-- Event cards will be injected here by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Quote/Contact Section -->
    <section id="quote" class="py-24 bg-white relative">
      <div class="container mx-auto px-6">
        <div class="bg-blue-900 rounded-3xl overflow-hidden shadow-2xl flex flex-col md:flex-row">
          <!-- Form Side -->
          <div class="md:w-3/5 p-8 md:p-12 lg:p-16 bg-white">
            <h3 class="text-3xl font-bold text-slate-900 mb-2">Get a Quote / Book Meeting</h3>
            <p class="text-slate-600 mb-8">Tell us about your requirements or preferred meeting time.</p>

            <form id="quote-form" class="space-y-4">
              <input type="hidden" id="contact-email" value="">

              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1" for="firstName">First
                    Name</label>
                  <input required type="text" id="firstName" name="firstName"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                    placeholder="John" />
                </div>
                <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1" for="lastName">Last
                    Name</label>
                  <input required type="text" id="lastName" name="lastName"
                    class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                    placeholder="Doe" />
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1" for="email">Work Email</label>
                <input required type="email" id="email" name="email"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                  placeholder="john@hospital.com" />
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1" for="company">Company /
                  Hospital</label>
                <input type="text" id="company" name="company"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                  placeholder="General Hospital" />
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1" for="product">Topic /
                  Product</label>
                <select id="product" name="product"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition bg-white">
                  <option value="">Select a topic...</option>
                  <!-- Options will be added by JavaScript -->
                </select>
              </div>

              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1" for="message">Message</label>
                <textarea rows="4" id="message" name="message"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition"
                  placeholder="I would like to know the pricing for..."></textarea>
              </div>

              <button type="submit"
                class="w-full bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition shadow-md hover:shadow-lg flex justify-center items-center gap-2">
                <i data-lucide="mail" class="lucide w-5 h-5"></i> Send Request
              </button>
              <p class="text-xs text-center text-slate-400 mt-2">
                This will open your default email client.
              </p>
            </form>
          </div>

          <!-- Info Side -->
          <div
            class="md:w-2/5 bg-blue-800 p-8 md:p-12 text-blue-50 flex flex-col justify-between relative overflow-hidden">
            <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-blue-700 rounded-full opacity-50">
            </div>
            <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-blue-900 rounded-full opacity-50">
            </div>

            <div class="relative z-10 space-y-8">
              <h4 class="text-xl font-bold text-white">Contact Information</h4>

              <div class="space-y-6">
                <!-- Address -->
                <div class="flex items-start">
                  <div class="bg-blue-700 p-2 rounded-lg mr-4 flex-shrink-0">
                    <i data-lucide="map-pin" class="lucide w-5 h-5 text-white"></i>
                  </div>
                  <div>
                    <p class="text-blue-200 text-sm font-medium uppercase tracking-wide mb-1">Address
                    </p>
                    <p class="text-white leading-relaxed" id="contact-address"></p>
                  </div>
                </div>

                <!-- Phone / Fax -->
                <div class="flex items-start">
                  <div class="bg-blue-700 p-2 rounded-lg mr-4 flex-shrink-0">
                    <i data-lucide="phone" class="lucide w-5 h-5 text-white"></i>
                  </div>
                  <div>
                    <p class="text-blue-200 text-sm font-medium uppercase tracking-wide mb-1">Phone /
                      Fax</p>
                    <p class="text-white" id="contact-phone"></p>
                    <p class="text-blue-200" id="contact-fax"></p>
                  </div>
                </div>

                <!-- Direct Contact -->
                <div class="flex items-start">
                  <div class="bg-blue-700 p-2 rounded-lg mr-4 flex-shrink-0">
                    <i data-lucide="mail" class="lucide w-5 h-5 text-white"></i>
                  </div>
                  <div>
                    <p class="text-blue-200 text-sm font-medium uppercase tracking-wide mb-1">Direct
                      Contact</p>
                    <p class="text-white font-bold" id="contact-name"></p>
                    <a id="contact-email-link" class="text-blue-200 hover:text-white transition block"></a>
                    <p class="text-white mt-2 flex items-center gap-2">
                      <span class="bg-green-500 w-2 h-2 rounded-full"></span>
                      WhatsApp: <span id="contact-mobile"></span>
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-12 relative z-10">
              <p class="text-sm text-blue-300">"Committed to excellence in medical imaging technology."</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Full Screen Image Modal -->
    <div id="xray-modal" class="image-modal" onclick="closeModal()">
      <span class="close-modal">&times;</span>
      <img id="modal-img" src="" alt="Full X-Ray View">
    </div>

    <!-- Product Specification Modal -->
    <div id="spec-modal" class="spec-modal" onclick="closeSpecModal(event)">
      <div class="spec-content" onclick="event.stopPropagation()">
        <span class="close-modal" onclick="closeSpecModal()">&times;</span>
        <div id="spec-modal-body">
          <!-- Content injected by JS -->
        </div>
      </div>
    </div>

    <!-- Meet Our Team Section -->
    <section id="team" class="py-24 bg-slate-50">
      <div class="container mx-auto px-6">
        <div class="text-center mb-16">
          <h2 class="text-sm font-bold text-blue-600 uppercase tracking-wider mb-2">Our People</h2>
          <h3 class="text-3xl md:text-4xl font-bold text-slate-900">Meet Our Team</h3>
          <div class="w-24 h-1 bg-blue-600 mx-auto mt-6 rounded-full"></div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-5 gap-8">
          <!-- Team Member 1 -->
          <!-- <div class="text-center group">
          <div
            class="relative w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-lg border-4 border-white grayscale group-hover:grayscale-0 transition duration-500">
            <img src="https://placehold.co/400x400/png?text=Member+1" alt="Team Member 1"
              class="w-full h-full object-cover">
          </div>
          <h4 class="text-lg font-bold text-slate-800">You Hah Young</h4>
          <p class="text-sm text-blue-600 font-medium">CEO</p>
        </div> -->
          <!-- Team Member 2 -->
          <div class="text-center group">
            <div
              class="relative w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-lg border-4 border-white grayscale group-hover:grayscale-0 transition duration-500">
              <img src="./vice president.jpeg" alt="Team Member 2" class="w-full h-full object-cover">
            </div>
            <h4 class="text-lg font-bold text-slate-800">DK KIM</h4>
            <p class="text-sm text-blue-600 font-medium">Vice President</p>
          </div>
          <!-- Team Member 3 -->
          <div class="text-center group">
            <div
              class="relative w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-lg border-4 border-white grayscale group-hover:grayscale-0 transition duration-500">
              <img src="./yj_PHOTO.jpg" alt="Team Member 3" class="w-full h-full object-cover">
            </div>
            <h4 class="text-lg font-bold text-slate-800">YJ You</h4>
            <p class="text-sm text-blue-600 font-medium">General Manager</p>
          </div>
          <!-- Team Member 4 -->
          <div class="text-center group">
            <div
              class="relative w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-lg border-4 border-white grayscale group-hover:grayscale-0 transition duration-500">
              <img src="./Michael'sphoto.jpg" alt="Team Member 4" class="w-full h-full object-cover">
            </div>
            <h4 class="text-lg font-bold text-slate-800">Michael Ernazarov</h4>
            <p class="text-sm text-blue-600 font-medium">Overseas Sales Manager</p>
          </div>
          <!-- Team Member 5 -->
          <!-- <div class="text-center group">
          <div
            class="relative w-40 h-40 mx-auto mb-4 rounded-full overflow-hidden shadow-lg border-4 border-white grayscale group-hover:grayscale-0 transition duration-500">
            <img src="https://placehold.co/400x400/png?text=Member+5" alt="Team Member 5"
              class="w-full h-full object-cover">
          </div>
          <h4 class="text-lg font-bold text-slate-800">Lee Jae Keun</h4>
          <p class="text-sm text-blue-600 font-medium">Senior SW Developer</p>
        </div> -->
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="bg-slate-900 text-slate-400 py-12 border-t border-slate-800">
      <div class="container mx-auto px-6">
        <div class="grid md:grid-cols-4 gap-8 mb-8">
          <div class="col-span-1 md:col-span-2">
            <div class="text-2xl font-bold text-white mb-4 flex items-center gap-3">
              <!-- Footer Logo -->
              <img src="./ASTEL-LOGO-2953X785.png.png" alt="Astel Logo" class="h-8 w-auto brightness-0 invert" />
            </div>
            <p class="max-w-xs mb-6">Leading provider of digital radiography solutions, delivering high-quality
              imaging for better diagnostics worldwide.</p>
          </div>
          <div>
            <h5 class="text-white font-bold mb-4">Products</h5>
            <ul class="space-y-2 text-sm">
              <li><a href="#" class="hover:text-blue-400 transition">Static Detectors</a></li>
              <li><a href="#" class="hover:text-blue-400 transition">Mobile Detectors</a></li>
              <li><a href="#" class="hover:text-blue-400 transition">Veterinary Solutions</a></li>
              <li><a href="#" class="hover:text-blue-400 transition">Software</a></li>
            </ul>
          </div>
          <div>
            <h5 class="text-white font-bold mb-4">Legal</h5>
            <ul class="space-y-2 text-sm">
              <li><a href="#" class="hover:text-blue-400 transition">Privacy Policy</a></li>
              <li><a href="#" class="hover:text-blue-400 transition">Terms of Service</a></li>
              <li><a href="#" class="hover:text-blue-400 transition">Support</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-slate-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm">
          <p>&copy; 2024 Astel Co., Ltd. All rights reserved.</p>
          <div class="flex space-x-4 mt-4 md:mt-0">
            <!-- Social placeholders -->
            <a href="#"
              class="w-8 h-8 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition text-white"
              aria-label="LinkedIn">In</a>
            <a href="#"
              class="w-8 h-8 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition text-white"
              aria-label="Twitter">Tw</a>
            <a href="#"
              class="w-8 h-8 bg-slate-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition text-white"
              aria-label="Facebook">Fb</a>
          </div>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script>
      // Data Definitions
      const allEvents = [
        { id: 1, title: "KIMES 2026", date: "March 19-22, 2026", location: "COEX, Seoul, Korea", desc: "Join us at the 40th Korea International Medical & Hospital Equipment Show.", isPast: false },
        { id: 2, title: "Arab Health 2026", date: "Feb 9-12, 2026", location: "Dubai World Trade Centre", desc: "Discover our latest digital radiography solutions at the Middle East's largest healthcare event.", isPast: false },
        { id: 3, title: "World Health Expo 2026 (FIME)", date: "Dec 1-5, 2025", location: "Miami Beach Convention Center, USA", desc: "Experience the future of radiology with Astel's newest FPD technology.", isPast: false },
        { id: 4, title: "Hospitalar 2024", date: "May 21-24, 2024", location: "São Paulo, Brazil", desc: "Showcasing our mobile FPDs in Latin America and connecting with distributors.", isPast: true },
        { id: 5, title: "E-HEALTH 2024", date: "June 2-4, 2024", location: "Berlin, Germany", desc: "A focus on AI integration and software solutions in medical imaging.", isPast: true }
      ];

      const contactInfo = {
        name: "Michael Ernazarov",
        email: "michael1@astel.co.kr",
        phone: "+82-42-360-2100",
        fax: "+82-42-360-2113",
        mobile: "+82-10-4692-1998",
        address: "26-79, Gajeongbuk-ro, Yuseong-gu, Daejeon 34113, Korea"
      };

      const products = [
        {
          id: "DRA-1417SC",
          name: "DRA-1417S",
          type: "Static",
          desc: "High-resolution static flat panel detector optimized for general radiography.",
          features: ["Meeting ISO4090 cassette size", "Slim Design & Light Weight", "Reliable AED function"],
          specs: {
            "Scintillator": "CsI:Tl(Direct)",
            "Sensor": {
              "Pixel size": "140um, a-si TFT and a-si Photodiode",
              "Pixel Matrix": "2500 x 3052",
              "Effective Area": "347.8 x 425.04 mm",
              "Effective Array": "2484 x 3036"
            },
            "Image Performance": {
              "Spatial Resolution": "3.4 lp/mm",
              "ADC Resolution": "16 bits",
              "Grayscale": "65536 grayscales",
              "x-ray voltage Range": "40~150 kvp",
              "x-ray Generator interface": "Line Trigger(Manual)/Auto Trigger(AED Mode)"
            },
            "Mechanical": {
              "Weight": "CsI/ 3.2kg",
              "Dimensions": "Meet ISO4090 for cassette size(384x460x15mm)",
              "Wired": "Giga Ethernet(1000BaseT)"
            },
            "Communications": {
              "Sync.Out Port": "2 port"
            }
          }
        },
        {
          id: "DRA-1417MC",
          name: "DRA-1417MC",
          type: "Mobile",
          desc: "Wireless mobile solution offering freedom of movement for varied clinical settings.",
          features: ["Meeting ISO4090 cassette size", "Wired/Wireless Dual Function", "Standalone Mode support"],
          specs: {
            "Scintillator": "CsI:Tl(Direct)",
            "Sensor": {
              "Pixel size": "140um, a-Si",
              "Pixel Matrix": "3072x2560",
              "Effective Area": "427.0 x 350.0 mm"
            },
            "Image Performance": {
              "Spatial Resolution": "3.6 lp/mm",
              "ADC Resolution": "16 bits",
              "Grayscale": "65535 LSB",
              "MTF(@0.5lp/mm)": "87 %",
              "DQE(@0.1lp/mm)": "74 %"
            },
            "Image Capture": {
              "Wired": "Line Trigger",
              "Auto Expose Detection": "Yes",
              "Standalone": "Internal Memory(32GB), > 1,500 Images"
            },
            "Communication": {
              "Wired": "Giga Ethernet (1000BaseT)",
              "Wireless": "IEEE802.11an / 2.4 or 5GHz, AP / Station",
              "Image Transfer Time": "Wired < 1 Sec / Wireless < 3 Sec",
              "Shot Cycle Time": "Wired < 3 Sec / Wireless < 4 Sec"
            },
            "Console S/W": {
              "Desktop": "Windows 7/8/10",
              "Mobile": "Android for Standalone"
            },
            "Battery": {
              "Operation Time": "1,050 Shots (15s cycle), 6hrs (Standby)",
              "Charging Time": "> 4 hrs",
              "Hot Swap": "< 1.3 min"
            },
            "Mechanical": {
              "Weight": "3.4 Kg",
              "Dimensions": "460 x 384 x 15 mm"
            },
            "Power & Environment": {
              "Consumption": "DC +15V / < 34 Watt",
              "Temp/Humidity": "T(10~+40) / H(20 ~ 75%)",
              "Load weight": "< 150Kg(337lbs) Local"
            }
          }
        },
        {
          id: "RFA-1717MC",
          name: "RFA-1717MC",
          type: "Mobile",
          desc: "Large format wireless detector designed for versatility and high throughput.",
          features: ["17x17 inch FOV", "Auto-trigger", "Robust Design"],
          specs: {
            "Scintillator": "CsI:Tl(Direct)",
            "Sensor": {
              "Pixel size": "140um, IGZO",
              "Pixel Matrix": "3072x3072",
              "Effective Area": "430.08 x 430.08 mm"
            },
            "Image Performance": {
              "Spatial Resolution": "3.6 lp/mm",
              "ADC Resolution": "16 bits",
              "Grayscale": "65535 LSB",
              "MTF(@0.5lp/mm)": "87 %",
              "DQE(@0.1lp/mm)": "74 %"
            },
            "Image Capture": {
              "Wired": "Line Trigger",
              "Auto Expose Detection": "Yes",
              "Standalone": "Internal Memory(32GB), > 1,500 Images"
            },
            "Communication": {
              "Wired": "Giga Ethernet (1000BaseT)",
              "Wireless": "IEEE802.11an / 2.4 or 5GHz, AP / Station",
              "Image Transfer Time": "Wired < 1 Sec / Wireless < 3 Sec",
              "Shot Cycle Time": "Wired < 3 Sec / Wireless < 4 Sec"
            },
            "Console S/W": {
              "Desktop": "Windows 7/8/10",
              "Mobile": "Android for Standalone"
            },
            "Battery": {
              "Operation Time": "1,050 Shots (15s cycle), 6hrs (Standby)",
              "Charging Time": "> 4 hrs",
              "Hot Swap": "< 1.3 min"
            },
            "Mechanical": {
              "Weight": "3.5 kg",
              "Dimensions": "460 x 460 x 15 mm"
            },
            "Power & Environment": {
              "Consumption": "DC +15V / < 34 Watt",
              "Temp/Humidity": "T(10~+40) / H(20 ~ 75%)",
              "Load weight": "< 150Kg(337lbs) Local"
            }
          }
        },
        {
          id: "RFA-1717DIC",
          name: "RFA-1717DI",
          type: "Static",
          desc: "Premium static detector delivering exceptional image quality for demanding diagnostics.",
          features: ["Large Format (17x17) IGZO TFT Panel", "Static & Dynamic for Radiography & Fluoroscopy", "High Frame Rate: 30fps @ 1536x1536", "Reliable AED function"],
          specs: {
            "Scintillator": "CsI:Tl (Direct)",
            "Sensor": {
              "Pixel size": "140um, IGZOTFT switch and a-si Photodiode",
              "Pixel Matrix": "3072 x 3072",
              "Effective Area": "430.08 x 430.08 mm",
              "Effective Array": "3072 x 3072"
            },
            "Image Performance": {
              "Spatial Resolution": "3.4 lp/mm",
              "ADC Resolution": "16 bits"
            },
            "Generator & Mode": {
              "X-ray Voltage Range": "40 ~ 150 Kvp",
              "X-ray Generator": "Line Trigger(Manual)/ Auto Trigger(AED Mode)",
              "Shot Mode": "Continuous/Pulsed"
            },
            "Maximum Frame Rates": {
              "1x1 (3072x3072)": "11 fps",
              "1x1 (2048x3072)": "16 fps",
              "1x1 (2048x2048)": "22 fps",
              "2x2 (1536x1536)": "36 fps",
              "2x2 (1536x1536)": "30 fps",
              "4x4 (768x768)": "50 fps",
              "4x4 (768x128)": "84 fps"
            },
            "Mechanical": {
              "Weight": "GD2O2S:Tb / 3.4 Kg",
              "Dimensions": "Meet ISO4090 cassette size(460x460x15mm)",
              "Wired": "Giga Ethernet (1000BaseT)"
            },
            "Communications": {
              "Sync.Out Port": "2 port / TTL(0~5.0V)"
            }
          }
        },
        {
          id: "CARION-WIDE",
          name: "CARION WIDE",
          type: "C-ARM System",
          desc: "Advanced C-Arm system with 17x17 inch Wide Flat Panel Detector and 9 Mega pixel resolution.",
          hidden: true,
          features: ["Wide-View Dynamic Imaging", "Optimized Dose Control", "Advanced Mobility", "5.3kW High Frequency Generator"],
          specs: {
            "Detector": "17\" x 17\" Wide FPD (DR 9 Mega pixel)",
            "Generator": "5.3kW High Frequency",
            "Image Control": "Low Dose Mode, Pulse Mode",
            "C-ARM Angulation": "±225°",
            "Orbital Rotation": "135°",
            "Horizontal Travel": "200mm",
            "DICOM Services": "DICOM 3.0, Connectivity to PACS"
          }
        }
      ];

      // Global State
      let showAllEvents = false;
      let activeModal = null;
      let prefillMessage = '';

      // --- Magnifier Logic ---
      // --- Magnifier Logic ---
      function initMagnifier() {
        const container = document.getElementById('magnifier-container');
        const img = document.getElementById('main-product-img');
        const glass = document.getElementById('magnifier-glass');

        if (!container || !img || !glass) return;

        // Configuration
        const zoomLevel = 2.5;
        const xrayImageSrc = './xray1.png'; // High Res image
        glass.style.backgroundImage = `url('${xrayImageSrc}')`;
        glass.style.backgroundSize = `${img.width * zoomLevel}px ${img.height * zoomLevel}px`;

        // State for smooth animation
        // Initialize center position (approximate, updated in loop/resize)
        let mouse = { x: img.width / 2, y: img.height / 2 };
        let glassPos = { x: img.width / 2, y: img.height / 2 };
        let isHovering = false;
        let timeOffset = 0; // For idle animation

        // Update target mouse position
        function updateMousePos(e) {
          const rect = img.getBoundingClientRect();
          mouse.x = e.pageX - rect.left - window.scrollX;
          mouse.y = e.pageY - rect.top - window.scrollY;
        }

        function animate() {
          // Ensure we have dimensions
          if (img.width === 0 || img.height === 0) {
            requestAnimationFrame(animate);
            return;
          }

          const rect = img.getBoundingClientRect();
          const centerX = rect.width / 2;
          const centerY = rect.height / 2;

          let targetX, targetY, lerpSpeed;

          if (isHovering) {
            // Interactive Mode: Follow cursor
            targetX = mouse.x;
            targetY = mouse.y;
            lerpSpeed = 0.08; // Responsive but weighty
          } else {
            // Idle Mode: Float around center smoothly
            const time = Date.now() / 1000 + timeOffset;

            // Figure-8 / Lissajous pattern for drifting
            const driftRadiusX = rect.width * 0.25; // Roam 25% of width
            const driftRadiusY = rect.height * 0.15; // Roam 15% of height

            // Perlin noise would be better, but Sine waves are sufficient for simple drift
            const driftX = Math.cos(time * 0.5) * driftRadiusX;
            const driftY = Math.sin(time * 0.7) * driftRadiusY; // Different frequency to avoid circles

            targetX = centerX + driftX;
            targetY = centerY + driftY;
            lerpSpeed = 0.02; // Very slow, lazy drift
          }

          // 1. Smooth Movement (Lerp)
          glassPos.x += (targetX - glassPos.x) * lerpSpeed;
          glassPos.y += (targetY - glassPos.y) * lerpSpeed;

          // 2. Micro-float (The "jitter" or "wobble" of a bubble in air/water)
          // This is applied ON TOP of the position
          const time = Date.now() / 1000;
          const floatX = Math.sin(time * 2) * 3;
          const floatY = Math.cos(time * 2.5) * 3;

          const currentX = glassPos.x + floatX;
          const currentY = glassPos.y + floatY;

          // 3. Apply to Glass Element
          const displayX = currentX - (glass.offsetWidth / 2);
          const displayY = currentY - (glass.offsetHeight / 2);

          glass.style.left = px(displayX);
          glass.style.top = px(displayY);

          // 4. Update Background Position
          const bgX = (currentX * zoomLevel) - (glass.offsetWidth / 2);
          const bgY = (currentY * zoomLevel) - (glass.offsetHeight / 2);
          glass.style.backgroundPosition = `-${bgX}px -${bgY}px`;

          // Ensure size is correct (responsive safety)
          if (glass.style.backgroundSize !== `${rect.width * zoomLevel}px ${rect.height * zoomLevel}px`) {
            glass.style.backgroundSize = `${rect.width * zoomLevel}px ${rect.height * zoomLevel}px`;
          }

          requestAnimationFrame(animate);
        }

        function px(v) { return v + "px"; }

        // Start loop
        animate();

        // Event Listeners
        container.addEventListener("mousemove", (e) => {
          // Only consider it 'hovering' if we are actually over the container
          // JS automatically handles this via the event listener, but we update state
          updateMousePos(e);
        });

        container.addEventListener("mouseenter", (e) => {
          isHovering = true;
          updateMousePos(e);
          // We DON'T snap position anymore, we let it lerp to the cursor
        });

        container.addEventListener("mouseleave", () => {
          isHovering = false;
          // It will now drift back to center automatically
        });

        container.addEventListener("touchmove", (e) => {
          if (e.touches.length > 0) {
            updateMousePos(e.touches[0]);
          }
        });

        container.addEventListener("click", () => {
          openImageModal(xrayImageSrc);
        });
      }

      // --- Modal Logic ---
      const xrayImages = ['./xray1.png', './xray2.jpg', './xray3.jpg', './xray4.jpg', './xray5.jpg'];
      // Preload
      xrayImages.forEach(src => new Image().src = src);

      function openImageModal(initialSrc) {
        const modal = document.getElementById('xray-modal');
        const modalImg = document.getElementById('modal-img');
        if (modal && modalImg) {
          // Default to initialSrc, but if logic requires, start with the first one or specific logic
          // Here we just make sure the initial one is displayed
          if (initialSrc) modalImg.src = initialSrc;

          modal.style.display = 'flex';
          void modal.offsetWidth;
          modal.classList.add('show');
          document.body.style.overflow = 'hidden';

          // Attach mouse move for switching images
          modal.addEventListener('mousemove', handleModalMouseMove);
        }
      }

      function closeModal() {
        const modal = document.getElementById('xray-modal');
        if (modal) {
          modal.classList.remove('show');
          // Remove listener
          modal.removeEventListener('mousemove', handleModalMouseMove);

          setTimeout(() => {
            modal.style.display = 'none';
            document.body.style.overflow = '';
          }, 300);
        }
      }

      function handleModalMouseMove(e) {
        const width = window.innerWidth;
        const x = e.clientX;
        const modalImg = document.getElementById('modal-img');

        // Divide screen into 5 sections for 5 images
        const sectionWidth = width / 5;
        let targetSrc = '';

        if (x < sectionWidth) {
          targetSrc = xrayImages[0];
        } else if (x < sectionWidth * 2) {
          targetSrc = xrayImages[1];
        } else if (x < sectionWidth * 3) {
          targetSrc = xrayImages[2];
        } else if (x < sectionWidth * 4) {
          targetSrc = xrayImages[3];
        } else {
          targetSrc = xrayImages[4];
        }

        // Only update if different (check end of string to handle absolute paths vs relative)
        if (!modalImg.src.endsWith(targetSrc.substring(2))) { // remove './' for comparison
          modalImg.src = targetSrc;
        }
      }


      // --- Core Functions ---

      function renderProducts() {
        const productList = document.getElementById('product-list');
        if (!productList) return;

        productList.innerHTML = products.filter(p => !p.hidden).map(product => {
          const featureList = product.features.map(feature => `
                    <li class="flex items-center text-xs text-slate-500">
                        <i data-lucide="check-circle" class="lucide w-4 h-4 text-green-500 mr-2"></i> ${feature}
                    </li>
                `).join('');

          return `
                    <div class="product-card group bg-slate-50 rounded-xl overflow-hidden hover:shadow-2xl transition duration-300 border border-slate-100 flex flex-col cursor-pointer" data-id="${product.id}">
                        <div class="h-64 p-8 flex items-center justify-center bg-white relative overflow-hidden">
                            <div class="absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-bl-lg z-10">
                                ${product.type}
                            </div>
                            <img 
                                src="DR_ copy.png" 
                                alt="${product.name}" 
                                class="h-full w-auto object-contain group-hover:scale-105 transition duration-500"
                            />
                            <div class="absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600/5 transition-colors flex items-center justify-center">
                                <span class="bg-white/90 text-blue-600 px-4 py-2 rounded-full font-bold opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition shadow-lg">View Specs</span>
                            </div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col">
                            <h4 class="text-xl font-bold text-slate-900 mb-2">${product.name}</h4>
                            <p class="text-slate-600 text-sm mb-4 flex-grow">${product.desc}</p>
                            
                            <ul class="space-y-2 mb-6">
                                ${featureList}
                            </ul>

                            <button 
                                class="w-full block text-center py-2 border-2 border-blue-600 text-blue-600 font-semibold rounded-lg hover:bg-blue-600 hover:text-white transition request-pricing-btn"
                                data-product-id="${product.name}"
                                onclick="event.stopPropagation()"
                            >
                                Request Pricing
                            </button>
                        </div>
                    </div>
                `;
        }).join('');

        attachProductListeners();
      }

      function attachProductListeners() {
        document.querySelectorAll('.request-pricing-btn').forEach(button => {
          button.addEventListener('click', function (e) {
            activeModal = this.getAttribute('data-product-id');
            prefillMessage = '';
            updateQuoteForm();

            const quoteSection = document.getElementById('quote');
            if (quoteSection) {
              quoteSection.scrollIntoView({ behavior: 'smooth' });
            }
          });
        });

        document.querySelectorAll('.product-card').forEach(card => {
          card.addEventListener('click', function () {
            const productId = this.getAttribute('data-id');
            openSpecModal(productId);
          });
        });
      }

      function openSpecModal(productId) {
        const product = products.find(p => p.id === productId);
        if (!product || !product.specs) return;

        const modal = document.getElementById('spec-modal');
        const body = document.getElementById('spec-modal-body');

        let specsHtml = `
        <h2 class="text-3xl font-bold text-slate-900 mb-2">${product.name}</h2>
        <p class="text-blue-600 font-semibold mb-6">${product.type} Flat Panel Detector</p>
        <div class="overflow-x-auto">
          <table class="spec-table">
            <thead>
              <tr>
                <th>Specification</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
      `;

        for (const [category, value] of Object.entries(product.specs)) {
          if (typeof value === 'object') {
            specsHtml += `<tr><td colspan="2" class="spec-category">${category}</td></tr>`;
            for (const [subKey, subValue] of Object.entries(value)) {
              specsHtml += `
              <tr>
                <td class="font-medium text-slate-700">${subKey}</td>
                <td class="text-slate-600">${subValue}</td>
              </tr>
            `;
            }
          } else {
            specsHtml += `
            <tr>
              <td class="font-medium text-slate-700">${category}</td>
              <td class="text-slate-600">${value}</td>
            </tr>
          `;
          }
        }

        specsHtml += `
            </tbody>
          </table>
        </div>
        <div class="mt-8 flex justify-end">
           <button onclick="closeSpecModal()" class="px-6 py-2 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition">Close</button>
           <a href="#quote" onclick="closeSpecModal(); activeModal='${product.name}'; updateQuoteForm();" class="ml-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition">Request Pricing</a>
        </div>
      `;

        body.innerHTML = specsHtml;
        modal.style.display = 'flex';
        void modal.offsetWidth;
        modal.classList.add('show');
        document.body.style.overflow = 'hidden';
      }

      function closeSpecModal(e) {
        if (e && e.target !== document.getElementById('spec-modal') && !e.target.classList.contains('close-modal')) return;
        const modal = document.getElementById('spec-modal');
        modal.classList.remove('show');
        setTimeout(() => {
          modal.style.display = 'none';
          document.body.style.overflow = '';
        }, 300);
      }

      function renderEvents() {
        const eventList = document.getElementById('event-list');
        const eventsTitle = document.getElementById('events-title');
        const toggleButton = document.getElementById('event-toggle-button');

        if (!eventList || !eventsTitle || !toggleButton) return;

        const visibleEvents = showAllEvents
          ? allEvents
          : allEvents.filter(e => !e.isPast);

        eventsTitle.textContent = showAllEvents ? 'All Company Events' : 'Upcoming Events';
        toggleButton.innerHTML = showAllEvents
          ? `View Only Upcoming <i data-lucide="chevron-right" class="lucide ml-1 w-5 h-5 rotate-180"></i>`
          : `View All Past Events <i data-lucide="chevron-right" class="lucide ml-1 w-5 h-5"></i>`;

        eventList.innerHTML = visibleEvents.map(event => {
          const pastClass = event.isPast ? 'border-slate-400 opacity-75' : 'border-blue-600';
          const textColor = event.isPast ? 'text-slate-500' : 'text-blue-600';
          const buttonClasses = event.isPast
            ? 'border border-slate-300 text-slate-500 bg-slate-100 cursor-pointer hover:bg-slate-200'
            : 'border border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white';
          const buttonText = event.isPast ? 'Inquire for Details' : 'Book Meeting';

          return `
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition border-l-4 flex flex-col ${pastClass}">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex items-center font-semibold ${textColor}">
                                <i data-lucide="calendar" class="lucide w-4 h-4 mr-2"></i>
                                ${event.date}
                            </div>
                            ${event.isPast ? '<span class="text-xs font-bold text-slate-500 bg-slate-200 px-2 py-0.5 rounded-full">PAST EVENT</span>' : ''}
                        </div>
                        <h4 class="text-xl font-bold text-slate-900 mb-2">${event.title}</h4>
                        <div class="flex items-center text-slate-500 text-sm mb-4">
                            <i data-lucide="map-pin" class="lucide w-4 h-4 mr-1"></i> ${event.location}
                        </div>
                        <p class="text-slate-600 text-sm mb-6 flex-grow">${event.desc}</p>
                        <button 
                            class="w-full text-center py-2 font-bold rounded-lg transition ${buttonClasses} book-meeting-btn"
                            data-event-id="${event.id}"
                        >
                            ${buttonText}
                        </button>
                    </div>
                `;
        }).join('');

        attachEventListeners();
      }

      function attachEventListeners() {
        document.querySelectorAll('.book-meeting-btn').forEach(button => {
          button.addEventListener('click', function () {
            const eventId = parseInt(this.getAttribute('data-event-id'));
            const event = allEvents.find(e => e.id === eventId);
            if (event) {
              handleBookMeeting(event);
            }
          });
        });
      }

      function toggleEvents() {
        showAllEvents = !showAllEvents;
        renderEvents();
        lucide.createIcons();
      }

      function handleBookMeeting(event) {
        try {
          if (event.isPast) {
            prefillMessage = `I am inquiring about the ${event.title} event held on ${event.date} and would like to receive follow-up information or materials from that show.`;
          } else {
            activeModal = 'Other';
            prefillMessage = `I would like to request a meeting during ${event.title}.\nLocation: ${event.location}\nDate: ${event.date}\n\nPlease let me know your available slots.`;
          }

          updateQuoteForm();

          const quoteSection = document.getElementById('quote');
          if (quoteSection) {
            quoteSection.scrollIntoView({ behavior: 'smooth' });
          }
        } catch (error) {
          console.error("Error during handleBookMeeting:", error);
        }
      }

      function updateQuoteForm() {
        const productSelect = document.getElementById('product');
        const messageTextarea = document.getElementById('message');

        if (productSelect && activeModal) {
          // Check if the option exists
          let optionExists = false;
          for (let i = 0; i < productSelect.options.length; i++) {
            if (productSelect.options[i].value === activeModal) {
              optionExists = true;
              break;
            }
          }

          if (!optionExists) {
            // Create a temporary option for this specific external referral
            const newOption = document.createElement('option');
            newOption.value = activeModal;
            newOption.textContent = activeModal;
            productSelect.appendChild(newOption);
          }
          productSelect.value = activeModal;
        }

        if (messageTextarea && prefillMessage) {
          messageTextarea.value = prefillMessage;
        }
      }

      window.onload = function () {
        renderProducts();
        renderEvents();

        // Magnifier Init
        initMagnifier();

        document.getElementById('contact-address').textContent = contactInfo.address;
        document.getElementById('contact-phone').textContent = `T: ${contactInfo.phone}`;
        document.getElementById('contact-fax').textContent = `F: ${contactInfo.fax}`;
        document.getElementById('contact-name').textContent = contactInfo.name;
        document.getElementById('contact-mobile').textContent = contactInfo.mobile;

        const emailLink = document.getElementById('contact-email-link');
        emailLink.href = `mailto:${contactInfo.email}`;
        emailLink.textContent = contactInfo.email;
        document.getElementById('contact-email').value = contactInfo.email;

        const productSelect = document.getElementById('product');
        products.forEach(p => {
          const option = document.createElement('option');
          option.value = p.name;
          option.textContent = `${p.name} (${p.type})`;
          productSelect.appendChild(option);
        });
        const genericOption = document.createElement('option');
        genericOption.value = 'Other';
        genericOption.textContent = 'Other / General Inquiry / Meeting';
        productSelect.appendChild(genericOption);

        // Check for URL parameters (e.g. from C-arm page)
        const urlParams = new URLSearchParams(window.location.search);
        const productParam = urlParams.get('product');
        if (productParam) {
          const cleanProduct = productParam.replace(/_/g, ' ');
          activeModal = cleanProduct;
          prefillMessage = `I am interested in the ${cleanProduct} system.`;
          updateQuoteForm();
        }

        const navbar = document.getElementById('navbar');
        window.addEventListener('scroll', function () {
          if (window.scrollY > 20) {
            navbar.classList.remove('bg-transparent', 'py-4');
            navbar.classList.add('bg-white', 'shadow-md', 'py-2');
          } else {
            navbar.classList.remove('bg-white', 'shadow-md', 'py-2');
            navbar.classList.add('bg-transparent', 'py-4');
          }
        });

        const menuButton = document.getElementById('menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');
        let isMenuOpen = false;

        menuButton.addEventListener('click', function () {
          isMenuOpen = !isMenuOpen;
          mobileMenu.classList.toggle('hidden', !isMenuOpen);
          mobileMenu.classList.toggle('flex', isMenuOpen);

          menuIcon.outerHTML = `<i data-lucide="${isMenuOpen ? 'x' : 'menu'}" id="menu-icon"></i>`;
          lucide.createIcons();
        });

        document.querySelectorAll('.mobile-menu-link').forEach(link => {
          link.addEventListener('click', function () {
            isMenuOpen = false;
            mobileMenu.classList.add('hidden');
            mobileMenu.classList.remove('flex');
            menuIcon.outerHTML = `<i data-lucide="menu" id="menu-icon"></i>`;
            lucide.createIcons();
          });
        });

        document.getElementById('event-toggle-button').addEventListener('click', toggleEvents);

        document.getElementById('quote-form').addEventListener('submit', function (e) {
          e.preventDefault();

          const form = e.target;
          const formData = {
            firstName: form.firstName.value,
            lastName: form.lastName.value,
            email: form.email.value,
            company: form.company.value,
            product: form.product.value,
            message: form.message.value
          };
          const contactEmail = document.getElementById('contact-email').value;

          const subject = `Inquiry: ${formData.product || 'General'}`;
          const body = `
Name: ${formData.firstName} ${formData.lastName}
Email: ${formData.email}
Company: ${formData.company}
Interest: ${formData.product}

Message:
${formData.message}

--
Sent via ASTEL Website Quote Form
                `;

          const mailtoLink = `mailto:${contactEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body.trim())}`;
          window.location.href = mailtoLink;
          console.log("Attempting to open email client to send the request.");
        });

        lucide.createIcons();
      };
    </script>
</body>

</html>